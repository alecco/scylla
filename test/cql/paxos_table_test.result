-- Check gc_grace_seconds is used as TTL for system.paxos entries
CREATE KEYSPACE k WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1};
{
	"status" : "ok"
}
USE k;
{
	"status" : "ok"
}
CREATE TABLE t1 (pk int PRIMARY KEY) WITH gc_grace_seconds = 1;
{
	"status" : "ok"
}
CREATE TABLE t2 (pk int PRIMARY KEY) WITH gc_grace_seconds = 100;
{
	"status" : "ok"
}
INSERT INTO  t1 (pk) VALUES (1) IF NOT EXISTS;
{
	"rows" : 
	[
		{
			"[applied]" : "true"
		}
	]
}
INSERT INTO  t2 (pk) VALUES (2) IF NOT EXISTS;
{
	"rows" : 
	[
		{
			"[applied]" : "true"
		}
	]
}
SELECT row_key, TTL(promise) FROM system.paxos;
{
	"rows" : 
	[
		{
			"row_key" : "\"0x00000001\"",
			"ttl(promise)" : "1"
		},
		{
			"row_key" : "\"0x00000002\"",
			"ttl(promise)" : "100"
		}
	]
}
